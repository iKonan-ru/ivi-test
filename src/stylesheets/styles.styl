@import '_vars.styl'
@import '_mixins.styl'

html,
body
  height: 100%
  margin: 0
  padding: 0

body
  font-family: 'Arial', sans-serif
  background-image: linear-gradient(45deg, alpha($color_white, 0) 0%, alpha($color_pink, 0.3) 100%)
  background-attachment: fixed

ul, ol
  list-style: none
  padding: 0
  margin: 0

h1
  margin: 0

/* Базовые стили основного контейнера страницы */
.page
  width: 75%
  max-width: $pageWrapper__maxWidth
  min-width: $pageWrapper__minWidth
  box-sizing: border-box
  margin-left: auto
  margin-right: auto

  /* Отступы между основными секциями страницы */
  & > * + *
    margin-top: 20px

/* Верхний цветной блок */
.topBlock
  position: relative
  overflow: hidden

  /* Распорка внутри блока для сохранения пропорций, исходя из размеров в макете */
  &::before
    display: block
    content: ''
    padding-bottom: percentage($topBlock__height_max / $topBlock__width_max)

  /* Блок со скосом */
  &__skew
    position: absolute
    top: 0
    /* Зная максимальные размеры блока, размер и угол скоса из макета, мы можем вычислить на сколько процентов нужно сдвинуть этот скос */
    right: percentage(($topBlock__skew__width_max - $topBlock__skew__width) / $topBlock__width_max)
    /* Высчитываем ширину блока со скосом, чтобы избавиться от ненужного угла с другой стороны */
    width: (100% + percentage($topBlock__skew__width / $topBlock__width_max) - @right)
    height: 100%
    transform: skewX($topBlock__skew__angle)
    background-color: $color_pink

  /* Общий блок контента */
  &__content
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%

    &Inner
      display: table
      width: 100%
      height: 100%
      padding-left: $topBlock__pad
      padding-right: @padding-left
      box-sizing: border-box

  &__title
    display table-cell
    vertical-align: middle

    /* Основной заголовок верхнего блока */
    &Text
      color: $color_white
      font-size: 24px
      line-height: 30px
      ellipsis($topBlock__title__lineCount, @line-height)

  /* Список с качеством в верхнем блоке */
  &__quality
    transform: translateY(-100%)
    padding: $topBlock__pad

/* Базовые стили списка качества */
.quality
  height: $quality__height
  text-align: justify

  /* Добавляем пустой псевдоэлемент в поток списка, чтобы сработал `text-align: justify` */
  &::after
    content: ''
    width: 100%
    display: inline-block

  &__item
    display: inline-block
    vertical-align: top
    padding: $quality__pad_y $quality__pad_x
    background-color: $color_white
    color: $color_pink
    font-size: $quality__fontSize
    line-height: $quality__lineHeight

/* Нумерованный список */
.listBlock

  &__list
    display: table
    width: 100%
    counter-reset: listBlock

  &__item
    display: table-row
    font-size: 16px
    line-height: 20px

    & + &::before
      margin-top: $listBlock__items__gax_x

    & + & > &Text
      padding-top: $listBlock__items__gax_x

    /* Стили нумерации списка */
    &::before
      /* Используем возможности свойства `content` для нумерации списка */
      counter-increment: listBlock
      content: counter(listBlock)
      display: block
      width: 50px
      height: @width
      box-sizing: border-box
      margin-right: 10px
      border-radius: 50%
      text-align: center
      font-size: 28px
      line-height: 30px
      color: $color_white
      padding-top: floor((@height - @line-height) / 2)
      padding-bottom: ceil((@height - @line-height) / 2)
      background-color: $color_pink

    /* Стили текстового блока в пунктах списка */
    &Text
      display: table-cell
      vertical-align: middle
      width: 100%
      margin-left: 10px
      color: $color_black
